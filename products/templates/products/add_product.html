{% extends "base.html" %}
{% load static %}
{% load humanize %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'products/css/product.css' %}">
{% endblock %}

{% block page_header%}
<div class="container-fluid">
    <div class="row">
        <div class="col">
        </div>
    </div>
</div>
{% endblock %}

{% block content %}
<div class="grey-overlay"></div>
<div class="container">
    <div class="row mb-5">
        <div class="col-12 col-lg-6 mx-auto">
            <h2 class="mb-3">Product Management</h2>
            <h5 class="text-muted">Add a new Product</h5>
            <hr>
        </div>
    </div>

    <div class="row">
        <div class="col12 col-lg-6 mx-auto">
            <form id="product-add-form" action="{% url 'add_product' %}" method="POST" class="form" enctype="multipart/form-data">
                {% csrf_token %}
                {{ form|crispy }}
                <div class="d-flex justify-content-end gap-4 mb-3">
                    <a href="{% url 'products' %}" class="btn btn-outline-light rounded-0">Cancel</a>
                    <button class="btn btn-light rounded-0" type="submit">Add Product</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}

{% block postloadjs %}
{{ block.super }}
<script>
    let categorySelected = $('#id_category').val();
if(!categorySelected) {
    $('#id_category').css('color', '#b8bac0');
};
$('#id_category').change(function() {
    categorySelected = $(this).val();
    if(!categorySelected) {
        $(this).css('color', '#b8bac0');
    } else {
        $(this).css('color', '#f1f1f1');
    }
});
</script>
{% endblock %}